"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const client_1 = require("@prisma/client");
const prisma = new client_1.PrismaClient();
// init data
// 初始化角色
const roles = [
    {
        id: 1,
        "name": "系统管理员",
        "desc": "系统管理员"
    }, {
        id: 2,
        "name": "管理员",
        "desc": "后台管理员"
    }, {
        id: 3,
        "name": "运维",
        "desc": "运维人员"
    }
];
// 初始化数据
const users = [
    {
        "email": "hfcaidev@gmail.com",
        "name": "admin",
        "nick": "管理员",
        "age": 1,
        "gender": 1,
        roles: {
            connect: [{ id: 1 }]
        },
        "password": "2BC68D71FC41C028",
    }, {
        "email": "1710600212@qq.com",
        "name": "cai",
        "nick": "胖蔡",
        "age": 1,
        "gender": 1,
        "roles": {
            connect: [{ id: 1 }, { id: 2 }]
        },
        "password": "2BC68D71FC41C028",
    },
];
async function main() {
    await prisma.role.deleteMany({});
    await prisma.user.deleteMany({});
    // 创建默认角色
    await prisma.role.createMany({
        data: roles,
    });
    // createMany创建多条数据不能创建关联关系
    await prisma.$transaction(users.map((user) => prisma.user.create({ data: user })));
}
main().then((res) => {
    console.log('---------初始化数据成功--------');
}).catch((e) => {
    console.error(e);
    process.exit(1);
})
    .finally(async () => {
    await prisma.$disconnect();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNlZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQ0FBNkM7QUFHN0MsTUFBTSxNQUFNLEdBQUcsSUFBSSxxQkFBWSxFQUFFLENBQUE7QUFFakMsWUFBWTtBQUVaLFFBQVE7QUFDUixNQUFNLEtBQUssR0FBRztJQUNWO1FBQ0ksRUFBRSxFQUFFLENBQUM7UUFDTCxNQUFNLEVBQUUsT0FBTztRQUNmLE1BQU0sRUFBRSxPQUFPO0tBQ2xCLEVBQUU7UUFDQyxFQUFFLEVBQUUsQ0FBQztRQUNMLE1BQU0sRUFBRSxLQUFLO1FBQ2IsTUFBTSxFQUFFLE9BQU87S0FDbEIsRUFBRTtRQUNDLEVBQUUsRUFBRSxDQUFDO1FBQ0wsTUFBTSxFQUFFLElBQUk7UUFDWixNQUFNLEVBQUUsTUFBTTtLQUNqQjtDQUNKLENBQUE7QUFFRCxRQUFRO0FBQ1IsTUFBTSxLQUFLLEdBQUc7SUFDVjtRQUNJLE9BQU8sRUFBRSxvQkFBb0I7UUFDN0IsTUFBTSxFQUFFLE9BQU87UUFDZixNQUFNLEVBQUUsS0FBSztRQUNiLEtBQUssRUFBRSxDQUFDO1FBQ1IsUUFBUSxFQUFFLENBQUM7UUFDWCxLQUFLLEVBQUU7WUFDSCxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQztTQUN2QjtRQUNELFVBQVUsRUFBRSxrQkFBa0I7S0FDakMsRUFBRTtRQUNDLE9BQU8sRUFBRSxtQkFBbUI7UUFDNUIsTUFBTSxFQUFFLEtBQUs7UUFDYixNQUFNLEVBQUUsSUFBSTtRQUNaLEtBQUssRUFBRSxDQUFDO1FBQ1IsUUFBUSxFQUFFLENBQUM7UUFDWCxPQUFPLEVBQUU7WUFDTCxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQztTQUNsQztRQUNELFVBQVUsRUFBRSxrQkFBa0I7S0FDakM7Q0FDSixDQUFBO0FBSUQsS0FBSyxVQUFVLElBQUk7SUFFZixNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0lBQ2hDLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUE7SUFHaEMsU0FBUztJQUNULE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDekIsSUFBSSxFQUFFLEtBQUs7S0FDZCxDQUFDLENBQUE7SUFHRCwyQkFBMkI7SUFDNUIsTUFBTSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBRXpGLENBQUM7QUFHRCxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtJQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDLENBQUE7QUFDM0MsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDWCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEIsQ0FBQyxDQUFDO0tBQ0csT0FBTyxDQUFDLEtBQUssSUFBSSxFQUFFO0lBQ2hCLE1BQU0sTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQy9CLENBQUMsQ0FBQyxDQUFDIn0=